# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `data/remote`

–í –ø—Ä–æ–µ–∫—Ç–µ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å –ø–æ–º–æ—â—å—é —Å–µ—Ä–≤–∏—Å–∞ **Supabase**, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö **PostgreSQL**.

–í—Å–µ–≥–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ **13 —Ç–∞–±–ª–∏—Ü**. –û—Å–Ω–æ–≤—É —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç **3 –∫–ª—é—á–µ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏**:

- **Film**
- **Game**
- **Song**

–û—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å–≤—è–∑–∞–Ω—ã —Å –Ω–∏–º–∏ —á–µ—Ä–µ–∑ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤, –º–µ–¥–∏–∞ –∏ –∞—Ä—Ç–∏—Å—Ç–æ–≤.

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Å–≤—è–∑–∏

### üéµ Songs
- **Artists (1:N) Songs**
- **ArtistTranslations (N:1) Artists**
- **Songs (1:N) SongTranslations**
- **Songs (1:N) SongAudioMedia**
- **Songs (1:1) SongVisualMedia**

### üéÆ Games
- **Games (1:N) GameTranslations**
- **Games (1:1) GameMedia**

### üé¨ Films
- **Films (1:N) FilmTranslations**
- **Films (1:1) FilmMedia**

---

## üîÅ DTO –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è

–î–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω—ã **DTO**, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–æ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

- –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–∂–Ω–æ–≥–æ –ø–æ–ª—è (—Å–≤—è–∑–∏, –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, —Å–ø–∏—Å–∫–∏) –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
- –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π –≤ DTO –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–∏—é –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `kotlinx.serialization` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å JSON, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º Supabase

---

## ‚öôÔ∏è –†–∞–±–æ—Ç–∞ —Å Supabase

Supabase –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ:
- –∏–∑–≤–ª–µ—á–µ–Ω–∏—é –¥–∞–Ω–Ω—ã—Ö (`select`)
- –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö
- –≤—Å—Ç–∞–≤–∫–µ –¥–∞–Ω–Ω—ã—Ö (`insert`)
- –≤—ã–∑–æ–≤—É —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (`rpc`)

–î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±—ã–ª–∏ **—Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ SQL-—Ñ—É–Ω–∫—Ü–∏–∏**, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤ Supabase.

---

## üé≤ –°–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (RPC)

–î–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π **Film**, **Game** –∏ **Song** —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ:

- —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –≤—ã–±–∏—Ä–∞—é—Ç –∑–∞–¥–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
- —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–≤—è–∑–∏ (translations, media, artists)
- –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä —è–∑—ã–∫–∞ (`language`)
- –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ (`count`)

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞:
- —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –æ–±—ä—ë–º –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- —Å–Ω–∏–∂–∞–µ—Ç—Å—è –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏
- –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É

---

## üåê –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (`data/remote`)

### 1Ô∏è‚É£ –ö–ª–∏–µ–Ω—Ç Supabase
–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É.

–î–ª—è –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:
- **URL –ø—Ä–æ–µ–∫—Ç–∞**
- **–ø—É–±–ª–∏—á–Ω—ã–π API-–∫–ª—é—á**

---

### 2Ô∏è‚É£ ApiService

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `ApiService`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏:

- –ø–æ–ª—É—á–µ–Ω–∏—è **–≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö** –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è:
    - –∏–≥—Ä
    - —Ñ–∏–ª—å–º–æ–≤
    - –ø–µ—Å–µ–Ω
- –ø–æ–ª—É—á–µ–Ω–∏—è **—Å–ª—É—á–∞–π–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
- –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —è–∑—ã–∫–∞ –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

---

### 3Ô∏è‚É£ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ `ApiService` –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å:
    - —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
    - —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
    - —Ä–∞–±–æ—Ç—ã RPC-—Ñ—É–Ω–∫—Ü–∏–π

---

### 4Ô∏è‚É£ –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

–¢–∞–∫ –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —è–∑—ã–∫–æ–≤:

- –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ API –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä —è–∑—ã–∫–∞
- —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—É—é –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é**
- –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∞ –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- —Å–Ω–∏–∑–∏—Ç—å –æ–±—ä—ë–º –¥–∞–Ω–Ω—ã—Ö
- —É—Å–∫–æ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
- —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å DTO –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

---

## ‚úÖ –ò—Ç–æ–≥

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ `data/remote` –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- –±—ã—Å—Ç—Ä—ã–π –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
- —Å—Ç—Ä–æ–≥—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é –∏ –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é
- –ø–æ–¥–¥–µ—Ä–∂–∫—É –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
- –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞